import os
import threading
import time
import random
import requests
from telegram import Bot
from dotenv import load_dotenv

load_dotenv()
BOT_TOKEN = os.getenv("BOT_TOKEN")
CHANNEL_ID = os.getenv("CHANNEL_ID")

bot = Bot(token=BOT_TOKEN)

SIGNATURES = [
    "๐ ะญะปะตะบััะธัะบะฐ โ ัะธะปะพัะพัะธั ะฒ ะดะฒะธะถะตะฝะธะธ",
    "โก ะััะปะธ ะฝะฐ ัะตะปััะฐั",
    "๐ ะะธะผะพ ััะฐะฝัะธะธ โ ะฟััะผะพ ะฒ ัะพะทะฝะฐะฝะธะต",
    "๐ก ะะพะดะบะปััะฐะนัั ะบ ะฟะพัะพะบั ะธะดะตะน",
    "๐ญ ะะตะถะดั ัััะพะบ ะธ ัะฟะฐะป",
    "โ ะฃััะตะฝะฝะธะน ะฟะพะตะทะด ะฒะดะพัะฝะพะฒะตะฝะธั",
    "๐ชะััะฐะถะตะฝะธั ะผะตะถะดั ััะฐะฝัะธัะผะธ",
    "๐ก ะกะฒะตั ะฝะฐ ะฟะตัะตะณะพะฝะต ะผััะปะตะน",
    "๐ฐ๏ธ ะัั ะฟะพะฒัะพััะตััั, ะบัะพะผะต ะผะณะฝะพะฒะตะฝะธะน",
    "๐ชถ ะัะณะบะธะน ะฒะตัะตั ะธะดะตะน ะฝะฐ ะฟัััั",
    "๐ ะกัะฐะฝัะธั ะกะผััะปะฐ. ะกะปะตะดัััะฐั ะพััะฐะฝะพะฒะบะฐ โ ะั",
    "๐งฉ ะะฐะถะดัะน ะดะตะฝั โ ะฝะพะฒะฐั ะฒะตัะบะฐ ะผะฐัััััะฐ",
    "๐ฆะะต ััะพะน ะฝะฐ ะผะตััะต, ะฟะพะบะฐ ะณะพัะธั ะทะตะปัะฝัะน",
    "๐ง ะกะปััะฐะน ัะธัะธะฝั ะผะตะถะดั ัะธัะฐัะฐะผะธ",
    "๐ ะญะปะตะบััะธัะบะฐ โ ััะดะฐ, ะณะดะต ะถะดัั ัะปะพะฒะฐ",
    "๐ญ ะััะปะธ ะผะธะผะพัะพะดะพะผ",
    "๐ ะะพัั โ ะปัััะตะต ะฒัะตะผั ะดะปั ะธะดะตะน",
    "๐ฅ ะัะบัะฐ ะผััะปะธ โ ะธ ะผะธั ะพัะฒะตััะฝ",
    "๐ค๏ธ ะะฐ ัััะบะต ัะฟะฐะป ัะพะถะดะฐัััั ะธะดะตะธ",
    "๐ ะัะพััะพ ะดััะธ, ะฟะพะตะทะด ะฒัั ัะฐะฒะฝะพ ะธะดัั",
    "๐ค๏ธ ะะตะฝั ะฝะฐัะธะฝะฐะตััั ั ัะธัะฐัั",
    "๐๏ธ ะะดะพัะฝะพะฒะตะฝะธะต ะฑะตะท ัะฐัะฟะธัะฐะฝะธั",
    "๐ ะัะธัะปััะฐะนัั โ ััะพ ะผััะปั ะตะดะตั",
    "๐ ะัะดัะพััั ะฑะตะท ะฟะตัะตัะฐะดะพะบ",
    "๐ง ะะฐะทะณะพะฝัะตะผ ะผััะปะตะฝะธะต ะฟะพ ัะตะปััะฐะผ",
    "๐ซ ะะฐะถะดะฐั ัะธัะฐัะฐ โ ััะฐะฝัะธั ะพัะพะทะฝะฐะฝะธั",
    "๐ ะะตัะตัะฝัั ัะปะตะบััะธัะบะฐ ัะฐะทะผััะปะตะฝะธะน",
    "๐ฌ ะะณะฝะพะฒะตะฝะธะต ะฟะตัะตะด ะพัะบัะพะฒะตะฝะธะตะผ",
    "๐ ะั ะตะดะตะผ ะฝะต ะบัะดะฐ-ัะพ, ะฐ ะทะฐัะตะผ-ัะพ",
    "๐ ะะตะถะดั ัะฟะฐะปะฐะผะธ โ ัััะฐะฝะธัั ะถะธะทะฝะธ",
    "๐ฒ ะัะธัะพะดะฐ ะธะดะตะน ะฒะตัะฝะพะทะตะปะตะฝะฐ",
    "โ๏ธ ะะตัะฐะฝะธะทะผ ะฒะดะพัะฝะพะฒะตะฝะธั ะทะฐะฟััะตะฝ",
    "๐ ะััะปะธ โ ัะตะดะบะธะต ะบะฐะผะฝะธ ะฟััะธ",
    "๐งญ ะะพะฒะพัะพั ะทะฐ ะฟะพะฒะพัะพัะพะผ โ ะบ ัะตะฑะต",
    "๐ก ะะพะฒะธ ัะฐััะพัั ัะผััะปะพะฒ",
    "๐จ ะัะฐัะบะธ ะฟััะธ ะฒ ะบะฐะถะดะพะผ ัะปะพะฒะต",
    "๐ค ะะฝะพะณะดะฐ ัะปะตะบััะธัะบะฐ ัะฟะธั. ะะพ ะฝะต ัะตะณะพะดะฝั.",
    "๐๏ธ ะะฒะธะถะตะฝะธะต โ ัะพัะผะฐ ัะฐะทะผััะปะตะฝะธั",
    "๐ข ะััะปะธ โ ะบะฐะบ ะฒะฐะณะพะฝั: ัะพะตะดะธะฝะตะฝั ะปะพะณะธะบะพะน",
    "๐ ะะพะฒะพะต ัััะพ โ ะฝะพะฒัะน ะผะฐััััั",
    "๐ช ะะพัะผะพั ะฒะฝัััะธ ัะตะปััะพะฒ",
    "๐ ะัะตะฝั โ ัะตะทะพะฝ ัะธัะฐั ะธ ะฒะดะพัะฝะพะฒะตะฝะธั",
    "๐๏ธ ะะพัะพะด ะฟัะพะฝะพัะธััั, ัะผััะป ะพััะฐัััั",
    "๐ฎ ะะฝะพะณะดะฐ ะฑัะดััะตะต ะทะฒััะธั ะบะฐะบ ัะธัะฐัะฐ",
    "๐ก ะััะปะธ ะฒัะฐัะฐัััั, ะฝะพ ะพััะฐัััั ะบััะณะปัะผะธ",
    "๐ชถ ะะฐะถะดะพะต ัะปะพะฒะพ โ ะฟะตัะพ ะฝะฐ ะฒะตััั",
    "๐บ ะัะทัะบะฐ ัะธัะฐั ะฒ ะฒะฐะณะพะฝะต โ22",
    "๐ฐ๏ธ ะะตะถะดั ะฟัะพัะปัะผ ะธ ะฑัะดััะธะผ โ ะผั",
    "๐ ะะตัะตะฟัะฐะฒะฐ ะผััะปะตะน ะฝะฐ ะดััะณะพะน ะฑะตัะตะณ",
    "๐ฆะะพะบะฐ ะฟะพะตะทะด ััะพะธั โ ะดัะผะฐะน",
    "๐ท ะะฐะดั ะฒะดะพัะฝะพะฒะตะฝะธั: ะทะดะตัั ะธ ัะตะนัะฐั",
    "๐ ะะดะตั โ ะปัััะธะน ะฟะพะดะฐัะพะบ ัะตะฑะต",
    "๐งฉ ะััะปะธ ััะพะดัััั ะฒ ะพะดะฝะพะน ัะพัะบะต",
    "๐ธ ะะธััะธั: ัะฐะทะผััะปะตะฝะธะต ะทะฐะฒะตััะตะฝะพ ััะฟะตัะฝะพ",
    "๐ ะะพะฑัะพะต ัััะพ, ะฟััะตัะตััะฒะตะฝะฝะธะบ ะผััะปะธ",
    "๐ฌ ะะฐะถะดะฐั ัะธัะฐัะฐ โ ะบะฐะบ ะฟะพะฟัััะธะบ",
    "๐ ะัััั ะฒะตัะตั ะฝะตััั ัะปะพะฒะฐ ะดะฐะปััะต",
    "๐ ะะพัั โ ะปัััะธะน ัะพะฑะตัะตะดะฝะธะบ ัะธะปะพัะพัะฐ",
    "๐ ะะดะพัะฝะพะฒะตะฝะธะต ะฝะต ะพะฟะฐะทะดัะฒะฐะตั",
    "๐ง ะขะฒะพั ะผััะปั โ ัะฒะพั ััะฐะฝัะธั",
    "โก ะญะปะตะบััะธัะบะฐ ะธะดะตะน ัะฝะพะฒะฐ ะฒ ะฟััะธ",
    "๐บ ะฆะธัะฐัั โ ัะฒะตัั ะฟััะธ",
    "๐ญ ะะฐะถะดัะน ะดะตะฝั โ ัะตะฐัั ัะปะตะบััะธัะบะธ",
    "๐งญ ะะปะฐะฒะฝะพะต โ ะฝะต ะฝะฐะฟัะฐะฒะปะตะฝะธะต, ะฐ ะพัะพะทะฝะฐะฝะธะต",
    "๐ ะะธะฝะธั ััะดัะฑั ะฟัะพัะพะดะธั ะฟะพ ัะฟะฐะปะฐะผ",
    "๐ ะกะปะตะดัััะฐั ะพััะฐะฝะพะฒะบะฐ โ ะฒะดะพัะฝะพะฒะตะฝะธะต",
    "๐ ะกะผััะป ะฒัะตะณะดะฐ ะณะดะต-ัะพ ััะดะพะผ",
    "๐ป ะะฐะดะธะพ ะผััะปะตะน ัะฐะฑะพัะฐะตั ะฑะตะท ะฟะฐัะท",
    "๐ ะะพัะพะบ ะธะดะตะน ะฝะต ะพััะฐะฝะพะฒะธัั",
    "๐ ะัั ะฝะฐะฟะธัะฐะฝะพ โ ะฝะพ ะฝะต ะฒัั ะฟะพะฝััะพ",
    "๐ง ะะตะผะพะฝั ัะผััะปะฐ ะฒัะตะผะตะฝะฝะพ ะทะฐะฒะตัััะฝ",
    "๐ณ๏ธ ะะปัะฑะถะต โ ัะฐะผ, ะณะดะต ะผะพะปัะฐะฝะธะต",
    "๐ช ะ ะทะตัะบะฐะปะต ะพะบะฝะฐ โ ัะฒะพั ะพััะฐะถะตะฝะธะต",
    "๐ค๏ธ ะกะพะปะฝะตัะฝะฐั ัะธัะฐัะฐ ะดะปั ะฟะฐัะผััะฝะพะณะพ ะดะฝั",
    "๐ก ะกะธะณะฝะฐะป ะธะท ะฒัะตะปะตะฝะฝะพะน ะฟัะธะฝัั",
    "๐ฌ ะะพะฝะตั ััะตะฝั. ะะพ ะฝะต ัะผััะปะฐ.",
    "๐ ะะพะฒะฐั ัััะฐะฝะธัะฐ ะฟััะธ ะพัะบัััะฐ",
    "๐ป ะฆะธัะฐัะฐ ะดะฝั: ะฑัะดั ัะพะฑะพะน, ะดะฐะถะต ะฝะฐ ัะฟะฐะปะฐั",
    "๐ฐ๏ธ ะัะตะผั โ ัะฐะผัะน ัะพัะฝัะน ัะธะปะพัะพั",
    "๐ ะะพัะผะพั ัะธัะฐั ะฑะตัะบะพะฝะตัะตะฝ",
    "๐ช ะะฐะณะธั โ ััะพ ะผััะปั, ะฒะพะฒัะตะผั ัะบะฐะทะฐะฝะฝะฐั",
    "๐ ะัััั ะดะตะฝั ะฟัะพะนะดัั ั ะปัะณะบะพะน ะผััะปัั",
    "๐ ะััะปะธ ะฟะพะด ะทะตะผะปัะน โ ะฒัั ะตัั ัะฒะตัะปัะต",
    "๐ฒ ะะดะต-ัะพ ะฒ ัะธัะธะฝะต ัะฐัััั ะธะดะตั",
    "๐งฉ ะกะผััะป ัะบะปะฐะดัะฒะฐะตััั ะฟะพ ะบััะพัะบะฐะผ",
    "๐๏ธ ะะฐะถะดัะน ะดะตะฝั โ ะพัะฟัะฐะฒะปะตะฝะธะต ะฒ ะฝะตะธะทะฒะตััะฝะพััั",
    "๐ ะกัะฐะฝัะธั 'ะัะพะทะฝะฐะฝะฝะพััั' โ ะบะพะฝะตัะฝะฐั",
    "๐ก ะญะปะตะบััะธัะบะฐ ะปะพะฒะธั ะฒะพะปะฝั ะฒะดะพัะฝะพะฒะตะฝะธั",
    "๐ ะกะปะตะดัััะธะน ัะตะนั โ ะบ ัะฐะผะพะผั ัะตะฑะต",
    "๐ญ ะัััั ะฟะพะตะทะด ะฝะต ะพััะฐะฝะฐะฒะปะธะฒะฐะตััั",
    "๐ฏ๏ธ ะขะธัะฐั ัะธัะฐัะฐ ะดะปั ััะผะฝะพะณะพ ะดะฝั",
    "๐ ะััะปะธ ะบััะถะฐััั, ะฟะพะบะฐ ะตััั ะดะพัะพะณะฐ",
    "๐ ะกะฒะตั ะทะฐะบะฐัะฐ โ ะปัััะฐั ะผะตัะฐัะพัะฐ",
    "๐งญ ะขัะดะฐ, ะณะดะต ะถะดัั ะฝะพะฒะพะต ะฟะพะฝะธะผะฐะฝะธะต",
    "๐ ะัะบัะฐ ะธะดะตะน ะฝะฐ ะฟะตัะตะณะพะฝะต ะดััะธ",
    "๐ ะญะปะตะบััะธัะบะฐ ะผะตััะฐะฝะธะน ััะพะฝัะปะฐัั",
    "๐ ะกะตะณะพะดะฝั ะฑะตะท ะฟะตัะตัะฐะดะพะบ โ ะฟััะผะพ ะฒ ัะผััะป",
    "๐ ะะพะฝะตั ะปะธะฝะธะธ โ ัะพะปัะบะพ ะฝะฐัะฐะปะพ ะฝะพะฒะพะณะพ ะฟััะธ",
    "โจ ะญะปะตะบััะธัะบะฐ ะตะดะตั. ะััะปะธ ะฟัะพะดะพะปะถะฐัััั."
]

def get_quote():
    try:
        response = requests.get("https://zenquotes.io/api/random")
        data = response.json()[0]
        quote = f"ยซ{data['q']}ยป โ {data['a']}"
        signature = random.choice(SIGNATURES)
        return f"{quote}\n\n{signature}"
    except Exception:
        return "โ๏ธ ะัะธะฑะบะฐ ะทะฐะณััะทะบะธ ัะธัะฐัั. ะะพะฟัะพะฑัะตะผ ะฟะพะทะถะต."

def keep_alive():
    url = os.getenv("RENDER_EXTERNAL_URL")
    if not url:
        return
    while True:
        try:
            requests.get(url)
        except Exception:
            pass
        time.sleep(600)

def autopost():
    while True:
        quote = get_quote()
        try:
            bot.send_message(chat_id=CHANNEL_ID, text=quote)
        except Exception as e:
            print("ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ:", e)
        time.sleep(3 * 60 * 60)

threading.Thread(target=keep_alive, daemon=True).start()
threading.Thread(target=autopost, daemon=True).start()

print("๐ ะญะปะตะบััะธัะบะฐ ะทะฐะฟััะตะฝะฐ ะธ ะตะดะตั ะฟะพ ัะฐัะฟะธัะฐะฝะธั!")

while True:
    time.sleep(60)
